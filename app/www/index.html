<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- Good default declaration:
    * gap: is required only on iOS (when using UIWebView) and is needed for JS->native communication
    * https://ssl.gstatic.com is required only on Android and is needed for TalkBack to function properly
    * Disables use of eval() and inline scripts in order to mitigate risk of XSS vulnerabilities. To change this:
        * Enable inline JS: add 'unsafe-inline' to default-src
        * Enable eval(): add 'unsafe-eval' to default-src
    * Create your own at http://cspisawesome.com
    -->
    <meta http-equiv="Content-Security-Policy" content="connect-src 'self' https://*.auth0.com http://*.couponbooked.com; default-src 'self' data: gap: 'unsafe-inline' https://ssl.gstatic.com https://couponbooked.auth0.com; style-src 'self' 'unsafe-inline' https://cdn.auth0.com; media-src *; img-src *; font-src *;" />

    <!-- https://auth0.com/docs/quickstart/native/cordova/01-login;
        used this to change from single page web app to native -->                
    <link rel="stylesheet" type="text/css" href="css/index.css" />
    <link rel="stylesheet" type="text/css" href="css/nav.css" />
    <link rel="stylesheet" type="text/css" href="css/auth0-theme.min.css" />
    <link rel="stylesheet" type="text/css" href="css/main.css" />
    <link rel="stylesheet" type="text/css" href="css/index.css" />
    <link rel="stylesheet" href="css/fontawesome.css" />

    <!-- TODO: Implement https://pointdeveloper.com/add-app-icon-phonegap-build-apps/ in the future -->
    <title>Coupon Booked</title>
</head>

<body>
    <!-- HTML is my templating engine and CSS is my router -->
    <div class="app" id="app"></div>

    <template id="loading">
        <!-- NOTE: This is just here to be saved for other routes; not actually displayed -->
        <div id="nav">
            <div class="nav-container">
                <nav class="navbar navbar-expand-md navbar-light">
                    <div class="container">
                        <!-- TODO: Route clicks to home page -->
                        <div id="mobile">
                            <span class="menu-btn">
                                <img id="logo" src="images/logo.png">
                            </span>
                            <a id="brand" href="#">Coupon Booked</a>
                        </div>
        
                        <div class="collapse navbar-collapse" id="navbarNav">
                            <ul class="navbar-nav">
                                <!-- Fullsize dropdown: show if authenticated -->
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle account" data-toggle="dropdown">
                                        <!-- Profile image should be set to the profile picture from the id token;
                                            src is the default image until the user's profile pic loads in -->
                                        <img alt="Profile picture" src="images/default.png" class="nav-user-profile profile-image" />
                                        <!-- TODO: Find a way to cache previous image -->
                                    </a>
                                </li>
                            </ul>
                        </div> <!-- navbar-collapse -->
                    </div> <!-- container -->
                </nav> <!-- navbar -->
            </div> <!-- nav-container -->
        
            <!-- https://www.labw3.com/2014/08/round-avatar-with-drop-down-profiles-menu-code.html -->
            <!-- TODO: Close on routing -->
            <div class="dropdown">
                <div class="submenu" style="display: none;">
                    <ul class="root">
                        <!-- NOTE: href required to have mouse change to clicker on hover -->
                        <li><a href="#" class="dashboard">Dashboard</a></li>
                        <li><a href="#" class="profile"><!--<span class="icon icon-profile"></span> -->Profile</a></li>
                        <li><a href="#" class="logout" id="sign-out"><!--<span class="icon icon-power"></span> -->Log out</a></li>
                    </ul>
                </div>
            </div> <!-- dropdown -->
        </div>

        <style> #nav { display: none; } </style>

        <!-- TODO: Eventually test this and experiment with removal / splashscreen animation replacement with Cordova plugin -->
        <div class="page">
            <div class="flex col abs-centered full-page">
                <div class="spinner spinner-lg is-auth0">
                    <div class="circle"></div>
                </div>
                <h3>Coupon Booked</h3>
            </div>
        </div>
    </template>

    <template id="login">
        <link rel="stylesheet" type="text/css" href="css/auth0.min.css" />
        <link rel="stylesheet" type="text/css" href="css/app.css" />
        <style> .page { position: absolute; } </style>

        <div class="page">
            <div class="flex col full-page">
                <div class="expand-to-fill flex abs-centered">
                    <div>
                        <h1>Coupon Booked</h1>
                        <h2>Getting Started</h2>
                        <p>Please click the button to log in or create an account. Signing in allows you to access the full feature set necessary to send gifts to your loved ones.</p>
                        <!-- IDEA: Privacy policy and the like in the pararaph like the example -->
                    </div>
                </div>
                <hr />
                <div class="flex hor-centered">
                    <button class="btn btn-success btn-login">
                        <span class="btn-icon icon-budicon-120"></span>
                        <span>Log In</span>
                    </button>
                </div>
            </div>
        </div>
    </template>

    <template id="home">
        <div class="page">
            <div id="main-content">
                <div id="content-home" class="page">
                    <section id="why">
                        <div id="title">
                            <h2>Why us?</h2>
                            <br />
                            <p>
                                Coupon Booked is an excellent choice for any occasion, whether
                                it be Mother's Day, Father's Day, a birthday, or an anniversary.
                                You should create a Book because it is a thoughtful way to show
                                someone how well you know them and how much you really care.
                            </p>
                        </div>
                    </section>
        
                    <section id="examples">
                        <h2>Examples</h2>
            
                        <div class="one four-300">
                            <!-- Placeholders until I can get legitimate content -->
                            <img src="images/300.png" />
                            <img src="images/300.png" />
                            <img src="images/300.png" />
                            <img src="images/300.png" />
                        </div>
                    </section>
        
                    <section id="createBook">
                        <h2>Create Your Own</h2>
                        <!-- TODO: Style this -->
                        <button>Start here!</button>
                    </section>
                </div>
            </div>

            <!-- IDEA: A footer would look real nice here; has good styling already -->
        </div>
    </template>

    <template id="create">
        <div style="height: 60px;"></div>
        <h2>Who is it for?</h2>
        <div id="buttonContainer">
            <button>Father</button>
            <button>Mother</button>
            <button>Brother</button>
            <button>Sister</button>
            <button>Girlfriend</button>
            <button>Boyfriend</button>
            <button>Friend</button>
            <button>Other</button>
        </div>
    </template>

    <template id="dashboard">
        <!-- TODO- Create swipeable menu here for sent/received -->
        <div style="height: 60px;"></div>
        <h2>Dashboard</h2>
    </template>

    <template id="profile">
        <link rel="stylesheet" type="text/css" href="css/app.css" />

        <div class="page">
            <div style="height: 50px;"></div>
            <h2>Profile</h2>
            <br />
            <img id="avatar" />
            <code class="profile-json code-picker">loading...</code>
            <br />
            <hr />
            <div class="flex hor-centered">
                <button class="btn btn-success btn-logout">
                    <span class="btn-icon icon-budicon-120"></span>
                    <span>Log Out</span>
                </button>
            </div>
        </div>
    </template>

    <script src="cordova.js"></script>
    <script src="./index.js"></script>
    <script src="js/jquery.min.js"></script>
</body>

</html>